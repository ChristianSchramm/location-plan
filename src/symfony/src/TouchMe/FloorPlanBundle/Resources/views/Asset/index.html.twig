{% extends 'TouchMeFloorPlanBundle:Scaffolding:scaffolding.html.twig' %}

{% block main %}

  <h2>Alle Dateianhänge <small><a href="{{ path('asset_new')}}"><span class="glyphicon glyphicon-plus"></span> Anhang hinzufügen</a></small></h2>

  {% for flashMessage in app.session.flashbag.get('notice') %}
    <p>{{ flashMessage }}</p>
  {% endfor %}
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Titel</th>
        <th>Datei</th>
        <th>Del</th>
      </tr>
    </thead>
    <tbody>
      {% for asset in assets %}
        <tr>
          <td>{{ asset.id }}</td>
          <td>{{ asset.title }}</td>
          <td>
            <a href="{{ asset.src }}" class="thumbnail">
              <img src="{{ asset.src }}" alt="{{ asset.title }}" title="{{ asset.title }}" style="max-height:100px; max-width:100px">
            </a>
          </td>
          <td>
            {{ render(controller('TouchMeFloorPlanBundle:Asset:remove', { 'id': asset.id } )) }}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}